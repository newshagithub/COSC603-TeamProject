<%- model_class = Course -%>
<div class="page-header">
  <h1><%=@course.name %></h1>
</div>

<dl class="dl-horizontal">
  <dt><strong>Lesson: <%= @lesson_id %>:</strong></dt>
  <dd></dd>
</dl>
<dl class="dl-horizontal">
  <dt><strong><%= model_class.human_attribute_name(:progress) %>:</strong></dt>
  <dd><%= @progress %>&#37;</dd>
</dl>

<br>

<h4>Quiz for Lesson "<%= @lesson.name %>" - <%= @lecture.name %></h4>

<br>
<div>

  <label><%=@lecture.quizQuestions %></label>
</div>

<div>
  <% @options.each do |option| %>

      <%= radio_button_tag 'option', option %> <%= option%>
      <br />
  <%end %>
</div>

<br>

<a href="javascript:checkAnswer()" class="btn btn-primary">Check your answer!</a>
<br>
<a href="javascript:hideshow(document.getElementById('reading') )">Need a hint?</a><br>


<div id="reading", style="display:none">
  <p><%=@lecture.reading %></p>
</div>

<br>
<br>
<br>

<%= link_to 'Exit', {controller: 'users', action: 'overview', user_id: current_user,
                     course_id: @course_id, lesson_id: @lesson_id, lecture_id: @lecture_id},
            :class => 'btn btn-default' %>

<%if @course_over %>
    <%= link_to 'Next', {controller: 'users', action: 'overview', user_id: current_user,
                         course_id: @course_id, lesson_id: @lesson_id, lecture_id: @lecture_id},
                :onclick => 'alert("Congratulations! You have finished this quiz")',  :class => 'btn btn-default' %>
<%elsif @lesson_over %>
    <%= link_to 'Next', @next, :onclick => 'alert("You have finished this lesson!")',  :class => 'btn btn-default' %>
<%else %>
    <%= link_to 'Next', @next, :class => 'btn btn-default' %>
<% end %>


<script type="text/javascript">
  function hideshow(which){
    if (!document.getElementById)
      return;
    if (which.style.display=="block")
      which.style.display="none";
    else
      which.style.display="block";
  }
</script>

<script type="text/javascript">
  function checkAnswer() {

    var correct_answer = "option_" + "<%= @answer %>";

    if (document.getElementById(correct_answer).checked == true) {
      alert("Good job!");
    } else {
      alert("Try again!");
    }
  }
</script>